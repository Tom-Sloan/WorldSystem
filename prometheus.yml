global:
  scrape_interval: 5s  # How frequently to scrape

scrape_configs:
  # cAdvisor
  - job_name: 'cadvisor'
    static_configs:
      - targets: ['127.0.0.1:8080']

  # RabbitMQ
  - job_name: 'rabbitmq'
    metrics_path: '/metrics'
    static_configs:
      - targets: ['127.0.0.1:15692']

  # Server (now uses host network)
  - job_name: 'server'
    static_configs:
      - targets: ['127.0.0.1:5001']  # If you expose metrics on port 5001, path /metrics

  # NVIDIA DCGM Exporter
  - job_name: 'nvidia-dcgm-exporter'
    static_configs:
      - targets: ['127.0.0.1:9400']

  # Reconstruction (now uses host network)
  - job_name: 'reconstruction'
    static_configs:
      - targets: ['127.0.0.1:8001']

  # Data Storage (uses host network mode)
  - job_name: 'data_storage'
    static_configs:
      - targets: ['127.0.0.1:8002']

  # Jaeger
  - job_name: 'jaeger'
    static_configs:
      - targets: ['127.0.0.1:14269'] 

  # Frame Processor (uses host network mode)
  - job_name: 'frame_processor'
    static_configs:
      - targets: ['127.0.0.1:8003']

  # SLAM3R (uses host network mode, when running)
  - job_name: 'slam3r'
    static_configs:
      - targets: ['127.0.0.1:8000']

  # MAST3R (uses host network mode, when running)  
  - job_name: 'mast3r'
    static_configs:
      - targets: ['127.0.0.1:8001']